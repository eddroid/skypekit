{"name":"Skypekit","body":"![logo](http://blog.railsware.com/wp-content/uploads/2012/05/skypekit.png)\r\n\r\n# Skypekit\r\n\r\nRuby FFI interface to libskypekit C library\r\n\r\n## Dependencies\r\n\r\n* libskypekit C library\r\n* ffi gem\r\n\r\n## Installation\r\n\r\nInstall [libskypekit](https://github.com/railsware/libskypekit).\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'skypekit'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install skypekit\r\n\r\n## Usage\r\n\r\nping_pong example:\r\n\r\n``` ruby\r\n\r\nrequire \"skypekit\"\r\n \r\n$skype = Skypekit::Skype.new(:keyfile => 'myskypekit.pem')\r\n \r\n$skype.start\r\n$skype.login('myskypename', 'mypassword')\r\n \r\ndef terminate\r\n  puts \"Terminating\"\r\n  $skype.stop\r\n  exit\r\nend\r\n \r\ntrap('INT') do\r\n  terminate\r\nend\r\n \r\nloop do\r\n  event = $skype.get_event\r\n \r\n  unless event\r\n    sleep 5\r\n    next\r\n  end\r\n \r\n  case event.type\r\n  when :account_status\r\n \r\n    if event.data.logged_in?\r\n      puts \"Congrats! We are Logged in!\"\r\n    end\r\n \r\n    if event.data.logged_out?\r\n      puts \"Authentication failed: #{event.data.reason}\"\r\n      terminate\r\n    end\r\n \r\n  when :chat_message\r\n    message = event.data\r\n \r\n    puts \"@\" * 80\r\n    p message\r\n    puts \"@\" * 80\r\n \r\n    if message.body == \"ping\"\r\n      $skype.send_chat_message(message.convo_id, \"pong\")\r\n    end\r\n \r\n  end\r\nend\r\n```\r\n\r\nRun ping_pong example:\r\n\r\n    SK_KEY=bla.pem SK_USER=user SK_PASS=secret be ruby examples/ping_pong.rb\r\n\r\n## Author\r\n\r\n* Andriy Yanko\r\n\r\n## Contributors\r\n\r\n* Volodymyr Bezobiuk\r\n* Alexey Vasiliev\r\n\r\n## License\r\n\r\n* Copyright (c) 2012 Railsware (www.railsware.com)\r\n* [MIT](http://www.opensource.org/licenses/MIT)\r\n\r\n## References\r\n\r\n* [libskypekit](https://github.com/railsware/libskypekit)\r\n* [SkypeKit C++ Wrapper Reference](http://developer.skype.com/skypekit/reference/cpp/index.html)","tagline":"Ruby FFI interface to libskypekit C library","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}